<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <input type="text" placeholder="enter your task" id="task">
    <button onclick="addTask()">Add Task</button>
    <ul id="tasksList">

    </ul>

   
    <script>
        // let b=[4,5,6,7]
        // b.forEach(
        //     function(g){
        //         console.log(g) //4 5
        //     }
        // )
        onload=function(){
            loadTasks()
        }

        function addTask(){
            let taskField = document.getElementById("task");

            if(taskField.value==""){
                alert("please enter your task")
                return false
            }
    
            let existingTasks=getTasksFromLocalStorage();
            // console.log(existingTasks);

            existingTasks.push(taskField.value);
            // console.log( existingTasks);

            localStorage.setItem("tasks",JSON.stringify(existingTasks))
            taskField.value=""

            loadTasks();


        }

        function getTasksFromLocalStorage(){
            const tasks=localStorage.getItem("tasks");
            return tasks ? JSON.parse(tasks) : []

        }

        function loadTasks(){
            let taskLists=document.getElementById("tasksList")
            taskLists.innerHTML=""
            let existingTasks=getTasksFromLocalStorage();
            existingTasks.forEach(function(i,index){
                // console.log(i,index);
                let li=document.createElement("li")
                li.innerHTML=`${i} <button onclick="deleteTask(${index})">Delete</button>`
                taskLists.appendChild(li)

            })

        }


        function deleteTask(index){
            console.log(index)
            let existingTasks=getTasksFromLocalStorage();
            existingTasks.splice(index,1) 
            localStorage.setItem("tasks",JSON.stringify(existingTasks))
            loadTasks()

        }




    </script>
</body>
</html>